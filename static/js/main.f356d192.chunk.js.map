{"version":3,"sources":["components/section/Section.js","components/phonebook/Phonebook.js","components/contacts/Contacts.js","components/filter/Filter.js","components/App.js","index.js"],"names":["Section","title","children","Phonebook","handleSubmit","handleChange","number","name","onSubmit","type","onChange","value","Contacts","data","deleteContact","map","elem","key","id","onClick","Filter","findContact","filterValue","INITIAL_STATE","contacts","filter","filteredArr","App","state","addContactWithId","shortId","preventDublication","some","evt","preventDefault","alert","setState","prev","target","toLowerCase","includes","localStorage","getItem","setItem","JSON","stringify","this","parse","prevProps","prevState","length","console","log","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f356d192.chunk.js","sourcesContent":["import React from 'react';\n\nconst Section = ({ title, children }) => (\n  <section>\n    <h3>{title}</h3>\n    {children}\n  </section>\n);\nexport default Section;\n","import React from 'react';\n\nconst Phonebook = ({ handleSubmit, handleChange , number, name}) => (\n  <form onSubmit={handleSubmit}>\n    <div>\n      <label>Name</label>\n    </div>\n    <div>\n      <input type=\"text\" name=\"name\" onChange={handleChange} value={name}/>\n    </div>\n\n    <div>\n      <label>Number</label>\n    </div>\n    <div>\n      <input type=\"text\" name=\"number\" onChange={handleChange} value={number}/>\n    </div>\n    <p>\n      <button type=\"submit\">Add contact</button>\n    </p>\n  </form>\n);\n\nexport default Phonebook;\n","import React from 'react';\n\nconst Contacts = ({ data, deleteContact }) => (\n  <ul>\n    {data.map(elem => (\n      <li key={elem.id}>\n        {elem.name} {elem.number}{' '}\n        <button type=\"button\" onClick={() => (deleteContact(elem.id))}> \n          delete\n        </button>\n      </li>\n    ))}\n  </ul>\n);\n\nexport default Contacts;\n\n//onClick сразу срабатывает без колбека\n","import React from 'react';\n\nconst Filter = ({ findContact, filterValue }) => (\n  <div>\n    Find contacts by name <input type=\"text\" onChange={findContact} value={filterValue}/>\n  </div>\n);\n\nexport default Filter;\n","import React, { Component } from 'react';\nimport Section from './section/Section';\nimport Phonebook from './phonebook/Phonebook';\nimport Contacts from './contacts/Contacts';\nimport Filter from './filter/Filter';\nimport shortId from 'shortid';\n\nconst INITIAL_STATE = {\n  contacts: [\n    { id: 'id-1', name: 'Rosie Simpson', number: '459-12-56' },\n    { id: 'id-2', name: 'Hermione Kline', number: '443-89-12' },\n    { id: 'id-3', name: 'Eden Clements', number: '645-17-79' },\n    { id: 'id-4', name: 'Annie Copeland', number: '227-91-26' }\n  ],\n  name: '',\n  filter: '',\n  number: '',\n  filteredArr: []\n};\n\nclass App extends Component {\n  state = { ...INITIAL_STATE };\n\n  componentDidMount() {\n    if (localStorage.getItem('contacts') === null) {\n      localStorage.setItem(\n        'contacts',\n        JSON.stringify([...this.state.contacts])\n      );\n    } else {\n      this.setState({\n        contacts: JSON.parse(localStorage.getItem('contacts'))\n      })\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.contacts.length !== this.state.contacts.length) {\n      console.log('contacts state has changed.');\n      localStorage.setItem(\n        'contacts',\n        JSON.stringify([...this.state.contacts])\n      );\n    }\n  }\n\n  addContactWithId = () => {\n    const { name, number } = this.state;\n    return { name, number, id: shortId() };\n  };\n\n  preventDublication = () => {\n    const { contacts, name } = this.state;\n    return contacts.some(elem => elem.name === name);\n  };\n\n  handleSubmit = evt => {\n    evt.preventDefault();\n    if (this.preventDublication()) {\n      alert('Dublication Alert');\n    } else {\n      this.setState(prev => {\n        return {\n          contacts: [...prev.contacts, this.addContactWithId()],\n          name: '',\n          number: ''\n        };\n      });\n    }\n  };\n\n  handleChange = evt => {\n    const { name, value } = evt.target;\n    this.setState({ [name]: value });\n  };\n\n  findContact = evt => {\n    const { value } = evt.target;\n    this.setState({\n      filter: value.toLowerCase(),\n      filteredArr: [\n        ...this.state.contacts.filter(elem =>\n          elem.name.toLowerCase().includes(value)\n        )\n      ]\n    });\n  };\n\n  deleteContact = id => {\n    this.setState(prev => ({\n      contacts: prev.contacts.filter(elem => elem.id !== id),\n      filteredArr: prev.filteredArr.filter(elem => elem.id !== id)\n    }));\n  };\n\n  render() {\n    console.log('render');\n    const { contacts, filter, filteredArr } = this.state;\n    return (\n      <>\n        <Section title=\"Phonebook\">\n          <Phonebook\n            handleSubmit={this.handleSubmit}\n            handleChange={this.handleChange}\n            name={this.state.name}\n            number={this.state.number}\n          />\n        </Section>\n\n        <Section title=\"Contacts\">\n          <Filter findContact={this.findContact} filterValue={filter} />\n          {!filter ? (\n            <Contacts data={contacts} deleteContact={this.deleteContact} />\n          ) : (\n            <Contacts data={filteredArr} deleteContact={this.deleteContact} />\n          )}\n        </Section>\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}